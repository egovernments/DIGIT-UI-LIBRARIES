# MIGRATION GUIDE FOR COMPOSERS

## Overview

This document details the essential modifications needed in the modules for smooth integration of FormComposer and InboxSearchComposer from the "ui-components" package.

In the ui-components package, several enhancements have been implemented to improve code clarity and address various issues related to table variants, writing custom code over existing code, etc. Updated the table component to have multiple variants and supports variant functionalities.

Furthermore, Most of the components in form and inbox search composer offer different variants. Adding variants for these components makes them more flexible, serving a wider range of purposes and meeting different design needs effectively.

## Install

To install: Add the dependency in your package.json:

```json
"@egovernments/digit-ui-components":"0.2.1"
```

## Apply

Syntax for importing any Form and InboxSearchComposers:

```javascript
import { InboxSearchComposer } from "@egovernments/digit-ui-components";
import { FormComposerV2 } from "@egovernments/digit-ui-components";
```

## InboxSearchComposer

### Search Screen

**Example Search Config:** [Sample Search Config](https://example.com/sample-search-config)

#### Config Structure

##### 1. Header Configuration

```javascript
headerLabel: "Search", // label is changed to headerLabel (Screen Header Label)
```

Defines the screen header label.

##### 2. Type of Screen

```javascript
type: "search", // type of the screen ("inbox","search")
```

Defines the screen type. Possible values: "inbox", "search".

##### 3. Actions Configuration

```javascript
actions: {
  actionLabel: "Action1", // label of the action
  actionRoles: ["MDMS_ADMIN"], // action will be shown only when user has any one of the actionRoles
  actionLink: "workbench/mdms-add-v2", // link to be directed when action is clicked
},
```

- **actionLabel:** Label of the action button that should be shown on top of search wrapper.
- **actionRoles:** Determines visibility based on user roles. Action Button will be shown only when the user has any of the roles in actionRoles.
- **actionLink:** Navigation path when action button is clicked.

##### 4. API Details

```javascript
apiDetails: {
  serviceName: "/egov-mdms-service/v2/_search",
  requestBody: { MdmsCriteria: {} },
  minParametersForSearchForm: 0,
  masterName: "commonUiConfig",
  moduleName: "SearchMDMSConfig",
  tableFormJsonPath: "requestBody.MdmsCriteria",
  filterFormJsonPath: "requestBody.MdmsCriteria.custom",
  searchFormJsonPath: "requestBody.MdmsCriteria.custom",
},
```

Defines API service details including request structure and module name.

##### 5. Sections

###### 5.1 Search Section

Defines UI configurations for the search form.

```javascript
search: {
  uiConfig: {
    headerStyle: null, // styles for the search label 
    formClassName: "custom-digit--search-field-wrapper-classname", // custom class name for "digit-search-field-wrapper"
    primaryLabel: "ES_COMMON_SEARCH", // label for search button
    secondaryLabel: "ES_COMMON_CLEAR_SEARCH", // label for clear button
    minReqFields: 1, // minimum number of fields that needs to be updated for searching 
    defaultValues: {
      value: "",
      field: "",
      isActive: {
        code: "WBH_COMMON_ALL",
        value: "all",
      },
    }, // default values for the fields.
    fields: [
      {
        label: "Field",
        type: "dropdown",
        isMandatory: false,
        disable: false,
        populators: {
          name: "field",
          optionsKey: "name",
          options: [
            {
              code: "code",
              name: "code",
            },
            {
              code: "name",
              name: "name",
            },
            {
              code: "description",
              name: "description",
            },
          ],
        },
      },
      {
        label: "Value",
        type: "text",
        isMandatory: false,
        disable: false,
        populators: {
          name: "value",
          validation: { pattern: {}, maxlength: 140 },
        },
      },
      {
        label: "IsActive",
        type: "dropdown",
        isMandatory: false,
        disable: false,
        populators: {
          name: "isActive",
          optionsKey: "code",
          options: [
            {
              code: "WBH_COMMON_YES",
              value: true,
            },
            {
              code: "WBH_COMMON_NO",
              value: false,
            },
            {
              code: "WBH_COMMON_ALL",
              value: "all",
            },
          ],
        },
      },
    ],
  },
  label: "", // label for the search wrapper
  show: true, // boolean flag to show or hide the search component
},
```

- **primaryLabel:** Defines the primary label for the search wrapper
- **secondaryLabel:** Defines the secondary label for the search wrapper
- **defaultValues:** Default filled values for each field.
- **fields:** array of fields that needs to be shown in the search wrapper

###### 5.2 Search Result Section

Configures the display of search results.

```javascript
searchResult: {
  uiConfig: {
    columns: [
      {
        label: "Unique Identifier",
        jsonPath: "uniqueIdentifier",
        disableSortBy: true,
      },
      {
        label: "Id",
        jsonPath: "id",
        link: true, // to show as a link button,
        buttonProps:{
          size: "", // can configure link button size
          icon: "Edit",
          // linkTo: "microplan/components", // can add icon to link button
        }
      },
      {
        label: "tenantId",
        jsonPath: "tenantId",
      },
      {
        label: "Active",
        jsonPath: "isActive",
        additionalCustomization: true,
      },
    ], // what columns to be shown in the table
    selectionProps: {
      showCheckBox: true,
      showSelectedState: true,
      selectableRowsNoSelectAll: false,
      // showSelectedStatePosition:"bottom", can also be sent like this
    }, // props related to table row selections
    expandableProps: {
      expandableRows: true,
      expandableRowsComponent: ExpandedComponent,
    }, // props related to table row expansions
    tableProps: {
      showTableDescription: "This is the search table description",
      showTableTitle: "Search table title",
      tableClassName:"custom-classname-resultsdatatable"
    }, // props related to table : title,description, custom classname
    actionProps: {
      actions: [
        {
          label: "Action1",
          variation: "secondary",
          icon: "Edit",
        },
        {
          label: "Action2",
          variation: "primary",
          icon: "CheckCircle",
        },
      ],
    }, // props related to actions that needs to be performed after row selections
    enableGlobalSearch: true,
    enableColumnSort: true,
    resultsJsonPath: "mdms",
    defaultSortAsc: true,
  },
  children: {},
  show: true, // boolean flag to show or hide the search results 
},
```

- **columns:** Defines the column headers and their type.
- **selectionProps:** Defines the selection props for the table rows. Includes:
  - **showCheckBox:** whether to add a checkbox column for each row for selections
  - **showSelectedState:** whether to show the number of rows selected once the rows are selected
  - **selectableRowsNoSelectAll:** whether to hide the checkbox for the table header (disables select all rows)
  - **showSelectedStatePosition:** whether to show the selected state of rows below or above the table. By default shows above.
- **expandableProps:** Props related to rows expansion. Includes:
  - **expandableRows:** whether the rows are expandable or not
  - **expandableRowsComponent:** Component to be shown when any row is expanded. Gets the row data as a prop.
- **tableProps:** Props related to the table description and table title. Includes:
  - **showTableDescription:** Description message for the table
  - **showTableTitle:** Table title.
- **actionProps:** What are the action buttons to be shown when any rows are selected. Includes:
  - **actions:** array of objects (props for the action button)
- **enableGlobalSearch:** whether to enable global search for the results.

##### 6. Footer Configuration

Defines footer actions based on user roles.

```javascript
footerProps: {
  showFooter: true, // to show the footer
  allowedRolesForFooter: ["MDMS_ADMIN"], // shows the footer only when user has any one of the allowed roles
  actionFields: [
    {
      label: "FooterAction1",
      icon: "ArrowBack",
      isSuffix: false,
      variation: "secondary",
      allowedRoles: ["MDMS_ADMIN"],// shows only when user has any one of the allowed roles
    },
    {
      label: "FooterAction2",
      icon: "ArrowForward",
      isSuffix: true,
      variation: "primary",
      allowedRoles: ["MDMS_USER"],// shows only when user has any one of the allowed roles
    },
  ],
  // maxActionFieldsAllowed: 1, // can set the maxfields to be shown on footer
  // setactionFieldsToLeft :false, // alignment of fields
  setactionFieldsToRight: true, // alignment of fields
  // sortActionFields : false, // flag to sort the action buttons
  className: "custom-classname-footeractions", // custom class name for footer 
  style: {}, // custom styles for footer
}, // props related to footer and its actions
```

- **showFooter:** whether to show the footer or not.
- **allowedRolesForFooter:** What are the allowed roles to show the footer.
- **actionFields:** array of objects (props for the footer action button)
- **setactionFieldsToRight:** whether to set the action buttons to the right end of the footer.

#### Comparison with old config

| Old Config | New Config | Details |
|------------|------------|---------|
| label | headerLabel | label is changed to headerLabel : Screen header label |
| actionLabel<br>actionRoles<br>actionLink | actions:{<br>&nbsp;&nbsp;actionLabel<br>&nbsp;&nbsp;actionRoles<br>&nbsp;&nbsp;actionLink<br>} | Moved actions related props inside actions object |
| additionalSections | - | This has been removed in new config |
| searchResult | searchResult: {<br>&nbsp;&nbsp;uiConfig: {<br>&nbsp;&nbsp;&nbsp;&nbsp;selectionProps : {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;showCheckBox,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;showSelectedState,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;selectableRowsNoSelectAll },<br>&nbsp;&nbsp;&nbsp;&nbsp;expandableProps: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expandableRows,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expandableRowsComponent<br>&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;tableProps: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;showTableDescription,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;showTableTitle,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tableClassName<br>&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;actionProps:{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;actions: [<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variation,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;icon,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br>&nbsp;&nbsp;&nbsp;&nbsp;},} } | Added these configuration in searchResult object |
| - | footerProps: {<br>&nbsp;&nbsp;showFooter: true,<br>&nbsp;&nbsp;allowedRolesForFooter: ["MDMS_ADMIN"],<br>&nbsp;&nbsp;actionFields: [<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label: "FooterAction1",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;icon: "ArrowBack",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isSuffix: false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variation: "secondary",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allowedRoles: ["MDMS_ADMIN"],<br>&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label: "FooterAction2",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;icon: "ArrowForward",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isSuffix: true,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variation: "primary",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allowedRoles: ["MDMS_USER"],<br>&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;],<br>&nbsp;&nbsp;setactionFieldsToRight: true,<br>&nbsp;&nbsp;className: "custom-classname-footeractions",<br>&nbsp;&nbsp;style: {},<br>}, | Introduced footerProps object in the config |

#### Conclusion

This search config provides a structured approach to integrating a configurable search interface with API calls, result display, and user-based actions. Modify the Config object as needed to suit different use cases.

#### How to use Search Config

To use the search config, import the Config object from the respective configs folder and pass it as a prop to InboxSearchComposer. Wrap the InboxSearchComposer inside a div with className "digit-inbox-search-wrapper".

```javascript
import React from "react";
import { InboxSearchComposer } from "@egovernments/digit-ui-components";
import { Config } from "../../configs/SampleSearchConfig";

const SampleSearch = () => {
  return (
    <React.Fragment>
      <div className="digit-inbox-search-wrapper">
        <InboxSearchComposer configs={Config}></InboxSearchComposer>
      </div>
    </React.Fragment>
  );
};
export default SampleSearch;
```

### Inbox Screen

**Example Inbox Config:** [Sample Inbox Config](https://example.com/sample-inbox-config)

#### Config Structure

1. Other configurations will be same as search config
2. Add your props related to filter inside the filter object

```javascript
filter: {
  uiConfig: {
    type: "filter",
    label:"", // Custom Filter Card Header
    primaryLabel: "Apply Filters", // label for filter button
    secondaryLabel: "Clear Filters", // label for clear button
    minReqFields: 1,
    defaultValues: {
      dropdown: "",
      apidropdown: [],
      status: "",
      radio: {
        code: "ASSIGNED_TO_ME",
        name: "Assigned to me",
      },
    },
    fields: [
      {
        label: "",
        type: "radio",
        isMandatory: false,
        disable: false,
        addDivider: true,
        populators: {
          alignVertical: true,
          name: "radio",
          options: [
            {
              code: "ASSIGNED_TO_ALL",
              name: "Assigned to all",
            },
            {
              code: "ASSIGNED_TO_ME",
              name: "Assigned to me",
            },
          ],
          optionsKey: "name",
        },
      },
      {
        label: "Filter field 1",
        type: "text",
        isMandatory: false,
        disable: false,
        preProcess: {
          convertStringToRegEx: ["populators.validation.pattern"],
        },
        populators: {
          name: "textfilter",
          error: "COMMON_PATTERN_ERR_MSG_MUSTER_ID",
          validation: {
            pattern: "MR\\/[0-9]+-[0-9]+\\/[0-9]+\\/[0-9]+",
            minlength: 2,
          },
        },
      },
      {
        label: "Filter field 2",
        type: "date",
        isMandatory: false,
        disable: false,
        populators: {
          name: "datefilter",
          error: "PROJECT_PATTERN_ERR_MSG",
        },
      },
      {
        label: "Filter field 3",
        type: "geolocation",
        isMandatory: false,
        disable: false,
        populators: {
          name: "geolocationfilter",
          error: "PROJECT_PATTERN_ERR_MSG",
        },
      },
      {
        label: "Filter field 4",
        type: "dropdown",
        isMandatory: false,
        addDivider: true,
        disable: false,
        populators: {
          name: "dropdown",
          options: [
            {
              code: "Option1",
              name: "Option 1",
            },
            {
              code: "Option2",
              name: "Option 2",
            },
          ],
          optionsKey: "name",
        },
      },
      {
        label: "Filter field 5",
        type: "multiselectdropdown",
        isMandatory: false,
        disable: false,
        populators: {
          isDropdownWithChip:true,
          name: "multiselectdropdownfilter",
          optionsKey: "name",
          error: "Error!",
          required: false,
          options: [
            {
              code: "Option1",
              name: "Option 1",
            },
            {
              code: "Option2",
              name: "Option 2",
            },
            {
              code: "Option3",
              name: "Option 3",
            },
          ],
        },
      },
    ],
  },
  show: true, // boolean flag to show or hide the filters section
},
```

Defines the filter section of the inbox config.

3. Add your props related to links inside the links object

```javascript
links: {
  uiConfig: {
    links: [
      {
        text: "Menu1",
        url: "/employee/sample/components",
        roles: ["SYSTEM_ADMINISTRATOR", "MICROPLAN_ADMIN"],
        hyperlink: false,
      },
      {
        text: "Menu2",
        url: "/employee/sample/search",
        roles: ["SYSTEM_ADMINISTRATOR", "MICROPLAN_ADMIN"],
        hyperlink: false,
      },
    ],
    label: "Module Name",
    logoIcon: {
      component: "Opacity",
      customClass: "search-icon--projects",
    },
  },
  children: {},
  show: true, // boolean flag to show or hide the links section
},
```

Defines the links section of the inbox config.

#### Conclusion

This inbox config provides a structured approach to integrating a configurable inbox interface with API calls, result display, and user-based actions. Modify the Config object as needed to suit different use cases.

#### How to use Inbox Config

To use the inbox config, import the Config object from the respective configs folder and pass it as a prop to InboxSearchComposer. Wrap the InboxSearchComposer inside a div with className "digit-inbox-search-wrapper".

```javascript
import React from "react";
import { InboxSearchComposer, Loader } from "@egovernments/digit-ui-components";
import inboxConfig from "../../configs/SampleInboxConfig";

const SampleInbox = () => {
    const config = inboxConfig();

    if(!config)  return <Loader variant={"PageLoader"}/>
    return (
        <React.Fragment>
            <div className="digit-inbox-search-wrapper">
                <InboxSearchComposer configs={config}></InboxSearchComposer>
            </div>
        </React.Fragment>
    )
}
export default SampleInbox;
```

## FormComposer

**Example Create Config:** [Sample Create Config](https://example.com/sample-create-config)

### Config Structure

Add all the fields inside the body array. For each field add the populator's object with a "name" key having a unique value for each field.

```javascript
{
    head: "TEXT",
    body: [
      {
        inline: true,
        label: "Default",
        isMandatory: false,
        type: "text",
        disable: false,
        populators: { name: "text-Default", error: "Error!" },
      },
  ]
}
```

### Different types of types supported for fields in FormComposer:

- text
- date
- time
- geolocation
- password
- search
- number
- numeric
- textarea
- radio
- dropdown
- select
- radioordropdown
- toggle
- checkbox
- multiselectdropdown
- mobileNumber
- component
- custom
- amount
- locationdropdown
- apidropdown
- dateRange

### Conclusion

This create config provides a structured approach to integrating a configurable create interface with API calls. Modify the Config object as needed to suit different use cases.

### How to use Create Config

To use the create config, import the Config object from the respective configs folder and pass it as a prop to FormComposer.

```javascript
import { FormComposerV2, HeaderComponent } from "@egovernments/digit-ui-components";
import React from "react";
import { useTranslation } from "react-i18next";
import { createConfig } from "../../../configs/uiComponentsConfigs/createConfig";

const SampleCreate = () => {
  const { t } = useTranslation();

  const defaultValues = {
    "text-Default": "Sample Text Input",
    "text-Noneditable": "Sample Text Input Noneditable",
    "text-Required Field": "Sample Text Input Error",
    "text-With Description": "Sample Text Input with description",
    "text-With CharCount": "Sample Text Input with charcount",
    "text-With Des&CharCount": "Sample Text Input with des&charcount",
    "text-Required Field With Des": "Sample Text Input with Des&Err",
    "text-Required": "Sample Text Input Mandatory",
    "text-With Info": "Sample Text Input with infomessage",
    "text-Info&Mandatory": "Sample Text Input mandatory&infomessage",
    "text-With Innerlabel": "Sample Text Input With Innerlabel",
    "text-With Validation": "S",
    "text-Without Label": "Sample Text Input Without Label",
    "text-Complete": "Sample Text Input Complete",

    "textarea-Default": "Sample TextArea",
    "textarea-Noneditable": "Sample TextArea Noneditable",
    "textarea-Required Field": "Sample TextArea Error",
    "textarea-With Description": "Sample TextArea with description",
    "textarea-With CharCount": "Sample TextArea with charcount",
    "textarea-With Des&CharCount": "Sample TextArea with des&charcount",
    "textarea-Required Field With Des": "Sample TextArea with des&err",
    "textarea-Mandatory": "Sample TextArea mandatory",
    "textarea-With Info": "Sample TextArea with infomessage",
    "textarea-Info&Mandatory": "Sample TextArea mandatory&infomessage",
    "textarea-Withoutlabel": "Sample TextArea withoutlabel",
    "textarea-With Validation": "Sample",
    "textarea-Complete": "Sample TextArea complete",

    "numeric-Default": 0,
    "numeric-With Step Value": 0,
    "numeric-Noneditable": 0,
    "numeric-Required Field": 0,
    "numeric-With InfoMessage": 0,

    "prefix-Default": 1000,
    "prefix-Noneditable": 1000,
    "prefix-Required Field": 1000,
    "prefix-With Description": 1000,
    "prefix-With InfoMessage": 1000,

    "suffix-Default": 1000,
    "suffix-Noneditable": 1000,
    "suffix-Required Field": 1000,
    "suffix-With Description": 1000,
    "suffix-With Info": 1000,

    "password-Default": "password",
    "password-Noneditable": "password",
    "password-Required Field": "password",
    "password-With Description": "password",
    "password-With InfoMessage": "password",

    "date-Noneditable": "2024-04-03",
    "time-Noneditable": "03:00",
  };

  const onSubmit = (data) => {
    console.log(data, "data");
  };

  const onFormValueChange = (setValue, formData, formState, reset, setError, clearErrors, trigger, getValues) => {
    console.log(formData, "formData");
  };

  const configs = createConfig;

  const textStyles = {
    color:"#0B4B66",
    fontWeight:"700",
    fontSize:"32px",
    marginBottom:"1.5rem"
  }

  return (
    <React.Fragment>
      <HeaderComponent styles={textStyles}>{"Create"}</HeaderComponent>
      <FormComposerV2
        label={t("Submit")}
        config={configs.map((config) => {
          return {
            ...config,
            body: config.body.filter((a) => !a.hideInEmployee),
          };
        })}
        defaultValues={defaultValues}
        onSubmit={onSubmit}
        onFormValueChange={onFormValueChange}
        labelfielddirectionvertical={false}
      />
    </React.Fragment>
  );
};

export default SampleCreate;
```

## Boundary Dropdowns

### Use Cases

The boundaryFilter component is designed to facilitate hierarchical and structured selection of administrative boundaries. It is particularly useful in scenarios where users need to filter data based on geographic or organizational levels.

### Example of Calling Boundary Dropdowns

#### In FormComposer Config

To use Boundary Dropdowns in FormComposer, you can leverage the custom boundary field type which automatically handles dropdown dependencies based on boundary hierarchy. For reference see references

```javascript
const formConfig = {
  body: [
    {
      key: "boundaryComponet",
      type: "boundary", // Custom boundary picker acting as Boundary Dropdown
      inline: true,
      label: "Boundary Filter",
      disable: false,
      populators: {
        name: "boundaryComponet",
        levelConfig: {
          lowestLevel: "VILLAGE",     // Last level that should appear in the dropdown chain
          highestLevel: "COUNTRY",    // Top-most level to start from
          isSingleSelect: []          // Can optionally restrict selection per level
        },
        hierarchyType: "NEWTEST00222", // ID of the boundary hierarchy (drives the dropdown data)
            noCardStyle: true,
        layoutConfig: {
          isDropdownLayoutHorizontal: true,
          isLabelFieldLayoutHorizontal: false
        },
        preSelected: [
          "NEWTEST00222_MO",
          "NEWTEST00222_MO_11_MARYLAND",
          "NEWTEST00222_MO_11_06_PLEEBO"
        ]
        // Optional: frozenData can lock certain boundary levels if needed
      }
    }
  ]
};
```

#### In InboxSearchComposer Config

To use Boundary Dropdowns in InboxSearchComposer, you can leverage the custom boundary field type which automatically handles dropdown dependencies based on boundary hierarchy.

The entire config is not provided instead just the portion of the fields where the boundaryComponent config is present is given for entire config see references

```javascript
{
  label: "", // Optional label (can be kept empty if UI already conveys purpose)
  type: "boundary", // Specifies that this field renders a boundary picker component
  isMandatory: false, // If true, field is required before submitting the form
  disable: false, // If true, disables the field from user interaction

  populators: {
    name: "boundaryComponnet", // Name of the form field in the JSON
    levelConfig: {
      lowestLevel: "LOCALITY", // The lowest administrative level shown
      highestLevel: "COUNTRY"  // The topmost administrative level shown
    },
    hierarchyType: "NEWTEST00222", // The hierarchy ID used to fetch boundary data
    module: "HCM-ADMIN-CONSOLE",   // The module under which hierarchy config is defined

    layoutConfig: {
      isDropdownLayoutHorizontal: true,  // If true, dropdowns are placed horizontally
      isLabelFieldLayoutHorizontal: false // Label and field are vertically stacked
    },

    noCardStyle: true, // If true, removes the default card styling around the component

    preSelected: [ // List of boundary codes to show as pre-selected in the UI
      "NEWTEST00222_MO",
      "NEWTEST00222_MO_11_MARYLAND",
      "NEWTEST00222_MO_11_06_PLEEBO"
    ],

    frozenData: [ // Static list of boundary objects (code + name)
      {
        code: "NEWTEST00222_MO",
        name: "NEWTEST00222_MO"
      },
      {
        code: "NEWTEST00222_MO_11_MARYLAND",
        name: "NEWTEST00222_MO_11_MARYLAND"
      },
      {
        code: "NEWTEST00222_MO_11_06_PLEEBO",
        name: "NEWTEST00222_MO_11_06_PLEEBO"
      }
    ]
  }
}
```

### Props

#### Documentation for Each Prop

##### levelConfig (Object)

Defines the boundary levels within the hierarchy.

**Example:** `{lowestLevel: "VILLAGE", highestLevel: "COUNTRY"}`

**Attributes:**
- **lowestLevel:** The smallest administrative unit.
- **highestLevel:** The largest administrative unit.
- **isSingleSelect:** An array of strings that defines the selection behavior of the dropdown at different levels.

##### hierarchyType (String)

Represents a unique identifier for the hierarchy type used in the boundary filter.

**Example:** `"NEWTEST00222"`

##### layoutConfig (Object)

Controls the layout structure for dropdowns and labels.

**Example:** `{isDropdownLayoutHorizontal: true, isLabelFieldLayoutHorizontal: false}`

**Attributes:**
- **isDropdownLayoutHorizontal:** If true, dropdowns are arranged horizontally.
- **isLabelFieldLayoutHorizontal:** If true, label fields are displayed horizontally.

##### preSelected (Array of Strings)

Contains default values that should be pre-selected in the boundary filter.

**Example:** `["NEWTEST00222_MO", "NEWTEST00222_MO_11_MARYLAND"]`

##### frozenData (Array of Objects)

Represents a list of pre-defined, unmodifiable selections within the dropdown. These values remain fixed and cannot be removed by the user.

**Example:**
```javascript
[  
  {
    "code": "NEWTEST00222_MO",
    "name": "NEWTEST00222_MO"
  },
  {
    "code": "NEWTEST00222_MO_11_MARYLAND",
    "name": "NEWTEST00222_MO_11_MARYLAND"
  }
]
```

## Editable Tables in InboxSearchComposer

### Documentation: Config-Driven Table UI with Editable Rows and Popup Functionality

This document explains the configuration for a table UI component that supports editing row data either inline within the table or via a popup. The table is part of a config-driven UI system, and the editable fields use FieldV1 configurations, which are consistent with the formComposer component in the system. Below, you'll find an overview of the configuration structure, its features, and how to use it effectively.

### Overview of Features

The table configuration allows for:

- **Inline Row Editing:** Users can edit specific fields directly within the row by enabling an action button.
- **Popup Editing:** Users can edit row data in a popup that provides additional functionality, including editing fields not displayed in the row.
- **Field Customization:** Each editable field uses FieldV1 configurations, allowing for detailed customization such as validation, styling, mandatory checks, and more.

### Configuration Structure

#### Top-Level Keys

- **editableRows:** Boolean flag to enable inline row editing.
- **editablePopup:** Boolean flag to enable popup editing.
- **additionalPopupColumns:** Array of additional fields (using FieldV1 configurations) that are editable in the popup but not displayed in the table rows.

#### Field-Level Keys

Each column has:
- **editable:** Boolean flag indicating whether the field is editable.
- **editableFieldConfig:** Configuration for the editable field using FieldV1. This includes details like type, validation rules, styling, and populators.

### Example Configuration

Below is an example configuration snippet with explanations:

```javascript
searchResult: {
  tenantId: Digit.ULBService.getCurrentTenantId(),
  uiConfig: {
    columns: [
      {
        label: "Id",
        jsonPath: "uniqueIdentifier",
        editable: true,
        editableFieldConfig: {
          inline: true,
          label: "Id",
          isMandatory: true,
          type: "text",
          disable: false,
          populators: {
            name: "row.uniqueIdentifier",
            error: "Error!",
            styles: { width: "10vw", marginTop: "2rem" },
          },
          withoutLabel: true,
        },
      },
      {
        label: "Name",
        jsonPath: "data.name",
        editable: true,
        editableFieldConfig: {
          inline: true,
          label: "Name",
          isMandatory: false,
          type: "text",
          disable: false,
          populators: {
            name: "row.name",
            error: "Error!",
            styles: { width: "10vw", marginTop: "2rem" },
            validation: { minlength: 2 },
          },
          withoutLabel: true,
        },
      },
      {
        label: "Project Type",
        jsonPath: "data.code",
        editable: true,
        editableFieldConfig:{
          inline:true,
          withoutLabel:true,
          label:"Project Type",
          isMandatory:false,
          type:"dropdown",
          key:"row.code",
          disable:false,
          populators:{
            styles:{width:"10vw",marginTop:"2rem"},
            name:"row.code",
            optionsKey:"code",
            mdmsConfig:{
              masterName:"projectTypes",
              moduleName:"HCM-PROJECT-TYPES",
              localePrefix:"HCM_PROJECT_TYPE"
            }
          }
        }
      },
    ],
    enableColumnSort: true,
    resultsJsonPath: "mdms",
    editableRows:true,
    editablePopup:true,
    additionalPopupColumns:[
      {
        label:"Group",
        jsonPath:"data.group",
        editable:true,
        editableFieldConfig:{
          inline:true,
          label:"Group",
          isMandatory:true,
          type:"text",
          disable:false,
          populators:{name:"row.data.group",error:"Error!",styles:{width:"10vw",marginTop:"2rem"}},
          withoutLabel:true
        }
      }
    ]
  },
  show:true
}
```

### Explanation of Key Features

#### Inline Row Editing (editableRows)

When `editableRows` is set to true, users can edit specific fields directly within the table rows. Each field must have:
- **editable:** Set to true.
- **editableFieldConfig:** Specifies how the field behaves when edited (e.g., type, validation rules).

**Example:**
```javascript
{
  label: "Name",
  jsonPath: "data.name",
  editable:true,
  editableFieldConfig:{
    inline:true,
    type:"text",
    populators:{name:"row.name",validation:{minlength:2}}
  }
}
```

In this example, users can edit the "Name" field directly within the row. The field requires a minimum length of 2 characters.

#### Popup Editing (editablePopup)

When `editablePopup` is set to true, users can edit row data in a popup. This popup provides additional functionality:
- Fields not displayed in the row can be edited using `additionalPopupColumns`.
- Each field in the popup uses FieldV1 configurations.

**Example:**
```javascript
additionalPopupColumns:[
  {
    label:"Group",
    jsonPath:"data.group",
    editable:true,
    editableFieldConfig:{
      inline:true,
      type:"text",
      populators:{name:"row.data.group"}
    }
  }
]
```

In this example, "Group" is an additional field that appears only in the popup for editing.

#### Field Customization (editableFieldConfig)

Editable fields use FieldV1 configurations for customization. Key properties include:
- **Type (type):** Specifies the input type (e.g., text, dropdown, toggle).
- **Validation (validation):** Defines validation rules (e.g., minlength).
- **Styles (styles):** Customizes field appearance (e.g., width, margin).
- **Populators (populators):** Handles data binding and error messages.

**Example:**
```javascript
{
  label:"Project Type",
  jsonPath:"data.code",
  editable:true,
  editableFieldConfig:{
    type:"dropdown",
    populators:{
      mdmsConfig:{
        masterName:"projectTypes"
      }
    }
  }
}
```

Here, "Project Type" uses a dropdown populated dynamically from MDMS data.

### Summary

This configuration enables flexible editing options for table rows using either inline editing or popups. The use of FieldV1 ensures consistency across components and allows detailed customization for each field. By combining these features with top-level flags like `editableRows`, `editablePopup`, and `additionalPopupColumns`, developers can create powerful and user-friendly table UIs tailored to their requirements.

## References & Resources for migration

- **Refer to this sample configs:** [Sample Configs](https://github.com/egovernments/DIGIT-Frontend/tree/sample/micro-ui/web/micro-ui-internals/packages/modules/sample/src/configs/uiComponentsConfigs)
- **Refer to this Boundary Dropdown config for formComposer:** [Config](https://example.com/dependent-dropdown-config)
- **Refer to this Boundary Dropdown search config for inboxSearch:** [Search Config](https://example.com/dependent-dropdown-search-config)
- **Refer to this Boundary Dropdown filter config for inboxSearch:** [Filter Config](https://example.com/dependent-dropdown-filter-config)
- **Refer to the Sample Module Screens integrated with new ui-components library:** [Sample Module](https://example.com/sample-module)

## Breaking Changes by Component Type

### ⚛️ Atoms (Basic Components)

#### Button
- ✨ **Enhancement:** Added automatic unique identifier system
- 🔧 **Breaking Change:** All buttons now have auto-generated `id` attributes
- **Migration Required:** If your tests or selectors rely on specific button IDs, you may need to update them

#### TextInput
- ✨ **New Props:** Added `validation` and `pattern` props for custom validation rules
- 🐛 **Enhancement:** Improved error handling with try-catch blocks
- **Migration Required:** Minimal - new props are optional

#### Toggle
- ✨ **New Feature:** Added `vertical` variant for vertical toggle layout
- ✨ **New Feature:** Added `disabled` state handling
- **Migration Required:** If you have custom styling for toggles, verify it works with new variants

#### Tag
- ✨ **New Prop:** Added `loader` prop for showing loading state
- **Migration Required:** None - new prop is optional

#### RadioButtons
- ✨ **Enhancement:** Added custom translation options support
- **Migration Required:** None - backward compatible

#### OTPInput
- 🐛 **Bug Fixes:** Minor improvements
- **Migration Required:** None

### 🧩 Molecules (Composite Components)

#### CustomDropdown
- ✨ **Breaking Change:** Added MDMS v2 prop support
- 🐛 **Fix:** Fixed dropdown text clearing issue after re-render
- **Migration Required:** If using MDMS integration, update to use new MDMS v2 props

#### ApiDropdown
- 🐛 **Fix:** Fixed API dropdown data fetching issues
- **Migration Required:** None - improvements only

#### ResultsDataTable
- ✨ **Breaking Change:** Enhanced to accept custom row components
- ✨ **Breaking Change:** Added pagination support with total count
- **Migration Required:** If using custom row components, ensure they follow the new component structure. Update pagination props if needed.

#### FilterCard
- ✨ **Enhancement:** Added translation support for filter labels
- **Migration Required:** None - backward compatible

#### SummaryCard
- 🔧 **Improvements:** Minor bug fixes
- **Migration Required:** None

### 🎯 HOC (Higher Order Components)

#### InboxSearchComposer
- ✨ **Breaking Change:** Added support for custom row components
- ✨ **Breaking Change:** Improved pagination functionality with specific props
- 🐛 **Fix:** Replaced `employee` with proper `userType` for actionLink
- **Migration Required:**
  - Update any custom row components to match new structure
  - Replace `employee` references with appropriate `userType` in actionLink configs
  - Update pagination props if using custom pagination

#### FormComposerV2
- ✨ **New Feature:** Added `backButton` prop for navigation
- **Migration Required:** None - new prop is optional

#### BoundaryFilter
- ✨ **New Component:** Added multi-select and single-select options
- ✨ **New Features:** Enhanced boundary selection logic, pre-selection handling, frozen data support
- **Migration Required:** If integrating boundary filtering, use new component structure

### 🎨 CSS & Styling Updates

#### Typography
- 📱 **Breaking Change:** Updated responsive typography for tablet and desktop
- 💅 **Breaking Change:** Enhanced font sizes and line heights
- **Migration Required:** Review custom CSS that depends on specific font sizes or line heights

#### Component Styles
- ✨ **Breaking Change:** New styles for BoundaryComponent
- 💅 **Breaking Change:** Updated button, card, and field styling
- 📱 **Enhancement:** Improved mobile responsiveness
- **Migration Required:** Test UI components for styling consistency, especially on mobile devices

### ⚠️ Critical Breaking Changes

1. **MDMS v2 Integration:**
   - Components now require specific prop formats for MDMS v2
   - **Action:** Update any MDMS-related configurations to use new prop structure

2. **Pagination Implementation:**
   - Pagination may require prop updates
   - **Action:** Review and update pagination props in table components

3. **Custom Row Components:**
   - Custom row components in tables need specific structure
   - **Action:** Update custom row components to match new interface requirements

4. **UserType vs Employee:**
   - `employee` references replaced with `userType`
   - **Action:** Replace all `employee` references with appropriate `userType` in configs

### 🔧 Recommended Migration Steps

1. **Update Dependencies:**
   ```json
   "@egovernments/digit-ui-components": "0.2.1"
   ```

2. **Test Components:**
   - Button components (check for ID conflicts)
   - Dropdown components (especially with MDMS)
   - Table components (pagination and custom rows)
   - Typography and styling

3. **Update Configurations:**
   - Replace `employee` with `userType` in InboxSearchComposer configs
   - Update MDMS configurations for v2 compatibility
   - Review pagination props in table components

4. **CSS Review:**
   - Check custom CSS for typography conflicts
   - Verify mobile responsiveness
   - Test component styling consistency

## Version Updates

Refer to the [ChangeLog](CHANGELOG.md) for detailed version updates.